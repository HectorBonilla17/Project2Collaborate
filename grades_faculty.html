<!doctype html>
<!--=====================================================================
For the grades page we need a dynamic JS table for both the professor and 
student. We can also include a text box for the professor to comment.

GradeID
PointsEarned 
TotalPoints 
GradePercentage X
LetterGrade X
FacultyFeedback X
DatePosted X
AssignmentID
StudentID
=====================================================================-->
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Project2Collaborate</title>
  <meta name="Group 3" content="">
  <!--<link rel="stylesheet" href="bootstrap?">-->
  <link rel="stylesheet" href="stylesheets/styles.css">
  <!-- <link rel="stylesheet" href="stylesheets/bootstrap.min.css"> https://bootswatch.com/slate/ -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <!-- google cdn <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>-->
  
  <style>
    div#buttonDiv {
      display: flex;
      align-items: center;
      justify-content: center;
      padding-bottom: 10px;
    }
  </style>

  <script>
    let gradesData = [
      { assignmentName: 'Homework 2', email: 'barryJackson@mail.com', grade: 'A', percentage: '96.00', pointsEarned: '96.00', totalPoints: '100.00', datePosted: '2021-02-17', facultyFeedback: ' ' },
      { assignmentName: 'Homework 7', email: 'moe@mail.com', grade: 'F', percentage: '0.20', pointsEarned: '0.20', totalPoints: '1.00', datePosted: '2021-01-19', facultyFeedback: 'You only answered one question.' },
      { assignmentName: 'Assignment 8', email: 'barryJackson@mail.com', grade: ' ', percentage: '65.71', pointsEarned: '23.00', totalPoints: '35.00', datePosted: '2019-08-09', facultyFeedback: ' ' },
      { assignmentName: 'Midterm Exam', email: 'larrylarry@mail.com', grade: ' ', percentage: '70.83', pointsEarned: '85.00', totalPoints: '120.00', datePosted: '2020-01-12', facultyFeedback: ' ' },
      { assignmentName: 'Assignment 4', email: 'ZiningW@mail.com', grade: 'C-', percentage: '72.00', pointsEarned: '72.00', totalPoints: '100.00', datePosted: '2021-02-15', facultyFeedback: ' ' },
      { assignmentName: 'Homework 2', email: 'krishanpatel@mail.com', grade: 'B', percentage: '80.00', pointsEarned: '8.00', totalPoints: '10.00', datePosted: '2020-03-24', facultyFeedback: 'Average work' },
      { assignmentName: 'Homework 5', email: 'marksGary@mail.com', grade: 'B+', percentage: '88.00', pointsEarned: '22.00', totalPoints: '25.00', datePosted: '2019-09-29', facultyFeedback: 'Good job.' },
      { assignmentName: 'Assignment 4', email: 'hbonilla@mail.com', grade: 'D', percentage: '0.00', pointsEarned: '16.00', totalPoints: '30.00', datePosted: '2021-03-01', facultyFeedback: ' ' },
      { assignmentName: 'Final project', email: 'barryJackson@mail.com', grade: ' ', percentage: '0.00', pointsEarned: '0.00', totalPoints: '15.00', datePosted: '2019-11-21', facultyFeedback: 'I did not receive a submission from you' },
      { assignmentName: 'Homework 1', email: 'tomZ@mail.com', grade: 'A+', percentage: '0.00', pointsEarned: '59.00', totalPoints: '60.00', datePosted: '2021-02-25', facultyFeedback: 'Great work!' },
      { assignmentName: 'Homework 10', email: 'AhadAnsari@mail.com', grade: 'C+', percentage: '78.00', pointsEarned: '78.00', totalPoints: '100.00', datePosted: '2020-02-12', facultyFeedback: 'Below average' },
      { assignmentName: 'Homework 3', email: 'AhadAnsari@mail.com', grade: 'B+', percentage: '86.00', pointsEarned: '8.60', totalPoints: '10.00', datePosted: '2021-01-01', facultyFeedback: ' ' },
      { assignmentName: 'Assignment 2', email: 'krishanpatel@mail.com', grade: 'B-', percentage: '81.00', pointsEarned: '81.00', totalPoints: '100.00', datePosted: '2019-05-09', facultyFeedback: 'Average work.' },
      { assignmentName: 'midterm exam', email: 'yousuf@mail.com', grade: 'A-', percentage: '92.50', pointsEarned: '9.25', totalPoints: '10.00', datePosted: '2021-03-08', facultyFeedback: ' ' },
      { assignmentName: 'assignment 3', email: 'larrylarry@mail.com', grade: 'D+', percentage: '68.00', pointsEarned: '34.00', totalPoints: '50.00', datePosted: '2019-12-20', facultyFeedback: ' ' },
      { assignmentName: 'Homework 1', email: 'larrylarry@mail.com', grade: 'F', percentage: '33.33', pointsEarned: '20.00', totalPoints: '60.00', datePosted: '2020-06-12', facultyFeedback: 'This is not good enough. Meet me after class.' },
      { assignmentName: 'homework 6', email: 'larrylarry@mail.com', grade: 'B', percentage: '85.00', pointsEarned: '170.00', totalPoints: '200.00', datePosted: '2019-11-01', facultyFeedback: 'Acceptable work' },
      { assignmentName: 'Assignment 9', email: 'marksGary@mail.com', grade: 'A', percentage: '95.00', pointsEarned: '95.00', totalPoints: '100.00', datePosted: '2020-07-19', facultyFeedback: ' ' },
      { assignmentName: 'Final exam', email: 'hbonilla@mail.com', grade: 'A+', percentage: '96.25', pointsEarned: '96.25', totalPoints: '100.00', datePosted: '2021-01-11', facultyFeedback: ' ' },
      { assignmentName: 'HW 1', email: 'moe@mail.com', grade: 'A+', percentage: '100.00', pointsEarned: '125.00', totalPoints: '125.00', datePosted: '2020-08-28', facultyFeedback: ' ' }
    ];
    
    window.onload = () => {
      loadTableData(gradesData);
    };
    
    function loadTableData(gradesData) {
      const tableBody = document.getElementById("gradesTableBody");
      let dataHtml = '';
      
      for(let grade of gradesData) {
        dataHtml += `<tr><td>${grade.assignmentName}</td><td>${grade.email}</td><td>${grade.grade}</td><td>${grade.percentage}</td><td>${grade.pointsEarned}</td><td>${grade.totalPoints}</td><td>${grade.datePosted}</td><td>${grade.facultyFeedback}</td></tr>`;
      }

      tableBody.innerHTML = dataHtml;
    }
  </script>
</head>

<script>
  // function to create a new row in the table
  function createGrade() {
    var assignmentName = prompt("Please enter the name of an assignment.");
    var email = prompt("Please enter the email of the student you want to give a grade to.");
    var grade = prompt("Please enter a letter grade (enter a space if you do not want to add a letter grade).");
    var percentage = prompt("Please enter a percentage: any number between 0.00 and 100.00 is acceptable (enter a space if you do not want to add a percentage).");
    var pointsEarned = prompt("Please enter the number of points the student earned on the assignment.");
    var totalPoints = prompt("Please enter the total number of points the assignment is worth.");
    var datePosted = prompt("Please enter today's date in the format 'yyyy-mm-dd'.");
    var facultyFeedback = prompt("Please enter any feedback you want to give to the student.");

    if (assignmentName == null || assignmentName == "" || email == null || email == "" || grade == null || grade == "" || percentage == null || percentage == "" || pointsEarned == null || pointsEarned == "" || totalPoints == null || totalPoints == "" || datePosted == null || datePosted == "" || facultyFeedback == null || facultyFeedback == "") {
      alert("Please fill in all of the boxes.");
    }
    else {
      var row = document.getElementById("gradesTable").insertRow(-1);
      (row.insertCell(0)).innerHTML = assignmentName;
      (row.insertCell(1)).innerHTML = email;
      (row.insertCell(2)).innerHTML = grade;
      (row.insertCell(3)).innerHTML = percentage;
      (row.insertCell(4)).innerHTML = pointsEarned;
      (row.insertCell(5)).innerHTML = totalPoints;
      (row.insertCell(6)).innerHTML = datePosted;
      (row.insertCell(7)).innerHTML = facultyFeedback;
    }
  }

  //function to update a row in the table
  function updateGrade() {
    var currentAssignmentName = prompt("Please enter the name of an assignment.");
    var currentEmail = prompt("Please enter the email of the student whose grade you want to update.");

    if (currentAssignmentName == null || currentAssignmentName == "" || currentEmail == null || currentEmail == "") {
      alert("Please fill in all of the boxes.");
    }
    else {
      var newGrade = prompt("Please enter a new letter grade to update a student's letter grade for an assignment. Leave this box empty if you do not want to change the letter grade.");
      var newPercentage = prompt("Please enter a new percentage (between 0.00 and 100.00) to update a student's percentage for an assignment. Leave this box empty if you do not want to change the percentage.");
      var newPointsEarned = prompt("Please enter a new number to update the number of points a student earned on an assignment. Leave this box empty if you do not want to change this value.");
      var newTotalPoints = prompt("Please enter a new number to update the total number of points an assignment is worth. Leave this box empty if you do not want to change this value.");
      var newDatePosted = prompt("Please enter today's date in the format 'yyyy-mm-dd'.");
      if (newDatePosted == null || newDatePosted == "") {
        alert("Please enter today's date in the format 'yyyy-mm-dd'.");
      }
      var newFacultyFeedback = prompt("Please enter any feedback you want to give to the student. Leave this box empty if you do not want to change the feedback that is currently displayed.");

      var index = new Number();

      for (i = 0; i <= document.getElementById("gradesTable").rows.length; i++) {
        if (document.getElementById("gradesTable").rows[i].cells[0].innerHTML == currentAssignmentName && document.getElementById("gradesTable").rows[i].cells[1].innerHTML == currentEmail) {
          index = i;
          break;
        }
      }

      var rowData = document.getElementById("gradesTable").rows[index].cells;

      if (newGrade != null && newGrade != "") {
        rowData[2].innerHTML = newGrade;
      }

      if (newPercentage != null && newPercentage != "") {
        rowData[3].innerHTML = newPercentage;
      }

      if (newPointsEarned != null && newPointsEarned != "") {
        rowData[4].innerHTML = newPointsEarned;
      }

      if (newTotalPoints != null && newTotalPoints != "") {
        rowData[5].innerHTML = newTotalPoints;
      }

      if (newDatePosted != null && newDatePosted != "") {
        rowData[6].innerHTML = newDatePosted;
      }
      if (newFacultyFeedback != null && newFacultyFeedback != "") {
        rowData[7].innerHTML = newFacultyFeedback;
      }
    }
  }

  //function to delete a row from the table
  function deleteGrade() {
    var assignmentName = prompt("Please enter the name of an assignment.");
    var email = prompt("Please enter the email of the student whose grade you want to delete.");

    if (assignmentName == null || assignmentName == "" || email == null || email == "") {
      alert("Please fill in all of the boxes.");
    }
    else {
      var index = new Number();

      for (i = 0; i <= document.getElementById("gradesTable").rows.length; i++) {
        if (document.getElementById("gradesTable").rows[i].cells[0].innerHTML == assignmentName && document.getElementById("gradesTable").rows[i].cells[1].innerHTML == email) {
          index = i;
          break;
        }
      }
      document.getElementById("gradesTable").deleteRow(index);
    }
  }
</script>


<div class="wrapperCourse"> <!-- WRAPPER FOR ENTIRE GRID, CAREFUL-->

  <header class="header"> 
        <a class="nav-image" href="selection_student.html"><img src="resources/project2collab2.png" width="200"
        height="100"> </a> 
        <div class="dropdown">
            <button onclick="dropdownFunc()" class="dropbtn">Settings</button>
            <div id="myDropdown" class="dropdown-content">
              <!--Users will only have access to the user settings based on which account type they are signed in to-->
              <a href="facultyusersettings.html">Edit Faculty Profile</a>
              <a href="login_choice.html">Logout</a>
            </div>
          </div>    
  
  </header>

  <!-- logo should return back to course selection-->
  <!--<div class="box nav">Navigation</div> commented out for now
   navigates across majority of course "main pages"-->
  <nav class="menu">
    <!-- Menu -->
    <ul class = "mainbar">
      <li class = "mainpage"> <a href ="course_faculty.html">Course Page</a></li>
        <ul>
          <li class = "subpage"><a href = "submissions_faculty.html"> Submissions </a></li>
          <li class = "subpage"><a href = "grades_faculty.html"> Grades </a></li>
        </ul>
      <li class = "mainpage"> <a href ="project_faculty.html">Project Page</a></li> 
      <!-- will hold the progress bar and each box will link to that phase -->
        <ul>
          <li class = "subpage"><a href = "teamstorage_faculty.html"> Team Storage </a></li>
          <li class = "subpage"><a href = "teamdetails_faculty.html"> Team Details </a></li>
        </ul>
    </ul>
      </ul>
    </nav>  
  <!-- holds link to project page, content, grades, assignments, etc..-->
  <div class="main">
    
    <div id="buttonDiv">
      <input type="button" id="grades_createrow" value="Create Grade" onclick="createGrade();">
      &nbsp;
      <input type="button" id="grades_updaterow" value="Update Grade" onclick="updateGrade();">
      &nbsp;
      <input type="button" id="grades_deleterow" value="Delete Grade" onclick="deleteGrade();">
    </div>

    <!-- Add a file upload here so the professor can upload documents.-->
    <div class='gradewrapper' style="display:block;">
      <table class ="gradetable" style=font-size:medium;>
        <thead class ="gradetablehead">
          <tr class="gradeheaderrow">
            <th>Assignment Name</th>
            <th>Email</th>
            <th>Grade</th>
            <th>Percentage</th> <!-- pointsearned/totalpoints-->
            <th>PointsEarned</th>
            <th>TotalPoints</th>
            <th>Date Posted</th>
            <th>Faculty Feedback</th>
          </tr>
        </thead>
        <tbody class = "gradetablebody">
          <tr>
            <td>sample assignment name</td>
            <td>sample student email</td>
            <td>sample grade</td>
            <td>sample percentage</td>
            <td>sample points earned</td>
            <td>sample total points</td>
            <td>sample date</td>
            <td>sample faculty comment</td>
          </tr>
          <tr>
            <td>Homework #1</td>
            <td>john@depaul.edu</td>
            <td>A</td>
            <td>93%</td>
            <td>93</td>
            <td>100</td>
            <td>2/25/2021</td>
            <td>Great job! Don't forget to comment your code!</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!-- main course contents and list in project-->
  <div class="box right">
    <h4>News Feed:</h4>
    <div class="newsfeed" id = "newsf1">
      <h3> Homework 6 Upcoming Due Date </h3>
      <p> Homework 6 [Team Homework Project Presentation] is due on March 15th. We will meet on zoom and have your demo ready to present. <p>
    </div>
    <br>
    <div class="newsfeed"id = "newsf2">
      <h3> Homework 7 Upcoming Due Date </h3>
      <p> Homework 7 [Team Homework Project Documentation] is due on March 15th. We will meet on zoom and have your documentation ready to present. <p>
    </div>
    <br>
    <div class="newsfeed"id = "newsf3">
      <h3> Homework 8 Upcoming Due Date </h3>
      <p> Homework 8 [Individual Assessment of your work] is due on March 15th. Submission will be reviewed and not discussed on zoom. <p>
    </div>
    <br>
    <div class="newsfeed"id = "newsf4">
      <h3> Homework 9 Upcoming Due Date </h3>
      <p> Homework 9 [Individual Weekly Logs] is due on March 15th. All cumulative weekly logs throughout the quarter are expected to be completed and submitted by this date. <p>
    </div>
  </div>
  <!-- future use case?-->
  <div class="footer">
    <p> 
      These are the Terms and Conditions governing the use of Project2Collaborate and the agreement that operates between you as a user and P2C. 
      These Terms and Conditions set out the rights and obligations of all users regarding the use of the Service.
      Your access to and use of the Service is conditioned on Your acceptance of and compliance with these Terms and Conditions. 
      These Terms and Conditions apply to all visitors, users and others who access or use this service.
      By accessing or using the Service You agree to be bound by these Terms and Conditions. If You disagree with any part of these Terms and Conditions then You may not access the Service.
      You represent that you are enrolled at the select university. The Company does not permit those under 18 to use the Service or alternate permissions.
      Your access to and use of the Service is also conditioned on Your acceptance of and compliance with the Privacy Policy of the Company. 
      Our Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your personal information when 
      You use the application and tells you about your privacy rights and how the law protects You. 
      Please read Our Privacy Policy carefully before using Our Service.
      <h6>Copyright &copy; 2021 All Rights Reserved by Project2Collaborate (P2C)</h6>
      <br><br>
    </p>
  </div>

  <!-- link to terms of service, contact, etc..-->
</div>

  <body>
      <script src="javascript/scripts.js"></script>
  </body>
</html>