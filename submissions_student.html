<!doctype html>
<!--=====================================================================
For the submissions page we need a file upload/download option for both 
the professor and student. We can also include a text box where we can 
put comments or etc.. (later) 
=====================================================================-->
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Project2Collaborate</title>
  <meta name="Group 3" content="">
  <!--<link rel="stylesheet" href="bootstrap?">-->
  <link rel="stylesheet" href="stylesheets/styles.css">
  <!-- <link rel="stylesheet" href="stylesheets/bootstrap.min.css"> https://bootswatch.com/slate/ -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <!-- google cdn <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>-->

  <style>
    div#buttonDiv {
      display: flex;
      align-items: center;
      justify-content: center;
      padding-bottom: 10px;
    }
  </style>

  <script>
    let submissionsData = [
      { assignmentName: 'Homework 1', email: 'krishanpatel@mail.com', submissionDate: '2021-01-04', submissionTime: '10:01:01', submissionComment: ' ', dueDate: '2021-01-05', dueTime: ' ' },
      { assignmentName: 'Assignment 2', email: 'krishanpatel@mail.com', submissionDate: '2021-01-11', submissionTime: '12:54:21', submissionComment: ' ', dueDate: '2021-01-12', dueTime: '23:59:59' },
      { assignmentName: 'Assignment 2', email: 'krishanpatel@mail.com', submissionDate: '2021-01-11', submissionTime: '13:17:54', submissionComment: ' ', dueDate: '2021-01-12', dueTime: '23:59:59' },
      { assignmentName: 'Assignment 2', email: 'krishanpatel@mail.com', submissionDate: '2021-01-12', submissionTime: '16:24:48', submissionComment: ' ', dueDate: '2021-01-12', dueTime: '23:59:59' },
      { assignmentName: 'Homework 3', email: 'krishanpatel@mail.com', submissionDate: '2021-01-22', submissionTime: '19:42:24', submissionComment: ' ', dueDate: ' ', dueTime: ' ' },
      { assignmentName: 'HW4', email: 'krishanpatel@mail.com', submissionDate: '2021-01-28', submissionTime: '22:19:09', submissionComment: ' ', dueDate: '2021-01-26', dueTime: '23:59:59' },
      { assignmentName: 'Homework 5', email: 'krishanpatel@mail.com', submissionDate: '2021-02-03', submissionTime: '21:21:21', submissionComment: ' ', dueDate: '2021-02-03', dueTime: ' ' },
      { assignmentName: 'Midterm Exam', email: 'krishanpatel@mail.com', submissionDate: '2021-02-10', submissionTime: '23:14:59', submissionComment: ' ', dueDate: '2021-02-15', dueTime: ' ' },
      { assignmentName: 'Homework 7', email: 'krishanpatel@mail.com', submissionDate: '2021-02-19', submissionTime: '01:23:45', submissionComment: 'Updated homework file', dueDate: '2021-02-21', dueTime: ' ' },
      { assignmentName: 'Homework 8', email: 'krishanpatel@mail.com', submissionDate: '2021-02-28', submissionTime: '18:01:23', submissionComment: ' ', dueDate: '2021-02-28', dueTime: '23:59:00' },
      { assignmentName: 'Homework 9', email: 'krishanpatel@mail.com', submissionDate: '2021-03-06', submissionTime: '11:38:24', submissionComment: ' ', dueDate: '2021-03-10', dueTime: '12:00:00' },
      { assignmentName: 'Homework 9', email: 'krishanpatel@mail.com', submissionDate: '2021-03-08', submissionTime: '14:08:00', submissionComment: ' ', dueDate: '2021-03-10', dueTime: '12:00:00' },
      { assignmentName: 'Assignment 10', email: 'krishanpatel@mail.com', submissionDate: '2021-03-15', submissionTime: '07:40:12', submissionComment: ' ', dueDate: '2021-03-17', dueTime: '00:00:00' }
    ];

    window.onload = () => {
      loadTableData(submissionsData);
    };

    function loadTableData(submissionsData) {
      const tableBody = document.getElementById("submissionsTableBody");
      let dataHtml = '';

      for(let submission of submissionsData) {
        dataHtml += `<tr><td>${submission.assignmentName}</td><td>${submission.email}</td><td>${submission.submissionDate}</td><td>${submission.submissionTime}</td><td>${submission.submissionComment}</td><td>${submission.dueDate}</td><td>${submission.dueTime}</td><th><input type="file" id="my_file"/></th><th><a href="#" role="button">Download</a></th></tr>`;
      }

      tableBody.innerHTML = dataHtml;
    }
  </script>
</head>

<header>
    <h1> Submission </h1>
</header>

<div id="buttonDiv">
  <input type="button" id="submission_submit" value="Create Submission" onclick="createSubmission();">
  &nbsp;
  <input type="button" id="submission_delete" value="Delete Submission" onclick="deleteSubmission();">
</div>

<script>
  <!-- function to create a new row in the table -->
  function createSubmission() {
    var assignmentName = prompt("Please enter the name of an assignment.");
    var email = prompt("Please enter your email.");
    var submissionDate = prompt("Please enter today's date in the format 'yyyy-mm-dd'.");
    var submissionTime = prompt("Please enter the current time in the format 'hh:mm:ss'.");
    var submissionComment = prompt("Please enter a comment for your submission (enter a space if you do not want to add a comment to your submission).");
    var assignmentDueDate = prompt("Please enter the date on which the assignment is due, in the format 'yyyy-mm-dd'.");
    var assignmentDueTime = prompt("Please enter the time at which the assignment is due, in the format 'hh:mm:ss'.");

    if (assignmentName == null || assignmentName == "" || email == null || email == "" || submissionDate == null || submissionDate == "" || submissionTime == null || submissionTime == "" || submissionComment == null || submissionComment == "" || assignmentDueDate == null || assignmentDueDate == "" || assignmentDueTime == null || assignmentDueTime == "") {
      alert("Please fill in all of the boxes.");
    }
    else {
      var row = document.getElementById("submissionsTable").insertRow(-1);
      (row.insertCell(0)).innerHTML = assignmentName;
      (row.insertCell(1)).innerHTML = email;
      (row.insertCell(2)).innerHTML = submissionDate;
      (row.insertCell(3)).innerHTML = submissionTime;
      (row.insertCell(4)).innerHTML = submissionComment;
      (row.insertCell(5)).innerHTML = assignmentDueDate;
      (row.insertCell(6)).innerHTML = assignmentDueTime;
      (row.insertCell(7)).innerHTML = `<th><input type="file" id="my_file"/></th>`;
      (row.insertCell(8)).innerHTML = `<th><a href="#" role="button">Download</a></th>`;
    }
  }

  <!-- function to delete a row from the table -->
  function deleteSubmission() {
    var assignmentName = prompt("Please enter the name of an assignment.");
    var email = prompt("Please enter your email.");
    var submissionDate = prompt("Please enter the date on which you made a submission, in the format 'yyyy-mm-dd'.");
    var submissionTime = prompt("Please enter the time at which you made a submission, in the format 'hh:mm:ss'.");

    if (assignmentName == null || assignmentName == "" || email == null || email == "" || submissionDate == null || submissionDate == "" || submissionTime == null || submissionTime == "") {
      alert("Please fill in all of the boxes.");
    }
    else {
      var index = new Number();

      for (i = 0; i <= document.getElementById("submissionsTable").rows.length; i++) {
        if (document.getElementById("submissionsTable").rows[i].cells[0].innerHTML == assignmentName && document.getElementById("submissionsTable").rows[i].cells[1].innerHTML == email && document.getElementById("submissionsTable").rows[i].cells[2].innerHTML == submissionDate && document.getElementById("submissionsTable").rows[i].cells[3].innerHTML == submissionTime) {
          index = i;
          break;
        }
      }
      document.getElementById("submissionsTable").deleteRow(index);
    }
  }
</script>

<div class='submissionwrapper' style="display:block;">
  <table class="subtable" id="submissionsTable">
    <thead class="subtablehead">
      <tr class="subheaderrow">
        <th>Assignment Name</th>
        <th>Email</th>
        <th>Submission Date</th>
        <th>Submission Time</th>
        <th>Submission Comment</th>
        <th>Assignment Due Date</th>
        <th>Assignment Due Time</th>
        <th>Upload</th>
        <th>Download</th>
      </tr>
    </thead>
    <tbody class="subtablebody" id="submissionsTableBody"></tbody>
  </table>
</div>

  <body>
      <script src="javascript/scripts.js"></script>
  </body>

</html>
